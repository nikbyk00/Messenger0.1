(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(7),r=n.n(s),a=(n(14),n(6)),i=n(8),o=n(9),u=n(3),j=n(0),l=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),l=Object(u.a)(r,2),b=l[0],d=l[1],O=Object(c.useRef)(),v=Object(c.useState)(!1),m=Object(u.a)(v,2),f=m[0],h=m[1],x=Object(c.useState)(""),p=Object(u.a)(x,2),g=p[0],N=p[1];var S=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={username:g,message:b,id:Date.now(),event:"message"},O.current.send(JSON.stringify(t)),d("");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?Object(j.jsx)("div",{className:"center",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"form",children:[Object(j.jsx)("input",{value:b,onChange:function(e){return d(e.target.value)},type:"text"}),Object(j.jsx)("button",{onClick:S,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),Object(j.jsx)("div",{className:"messages",children:n.map((function(e){return Object(j.jsx)("div",{children:"connection"===e.event?Object(j.jsxs)("div",{className:"connection_message",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",e.username," \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0441\u044f"]}):Object(j.jsxs)("div",{className:"message",children:[e.username,". ",e.message]})},e.id)}))})]})}):Object(j.jsx)("div",{className:"center",children:Object(j.jsxs)("div",{className:"form",children:[Object(j.jsx)("input",{value:g,onChange:function(e){return N(e.target.value)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f"}),Object(j.jsx)("button",{onClick:function(){O.current=new WebSocket("ws://localhost:9000"),O.current.onopen=function(){h(!0);var e={event:"connection",username:g,id:Date.now()};O.current.send(JSON.stringify(e))},O.current.onmessage=function(e){var t=JSON.parse(e.data);s((function(e){return[t].concat(Object(o.a)(e))}))},O.current.onclose=function(){console.log("Socket \u0437\u0430\u043a\u0440\u044b\u0442")},O.current.onerror=function(){console.log("Socket \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}},children:"\u0412\u043e\u0439\u0442\u0438"})]})})};var b=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(l,{})})};r.a.render(Object(j.jsx)(b,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.94e01b5c.chunk.js.map